# Xemelgo Inventory API Documentation

## Version 1.4 â€” November 2024

Â© 2024 Xemelgo, Inc.  
ðŸ“§ support@xemelgo.com  

---

## Table of Contents

1. [Release Versions](#release-versions)
2. [Authentication - Login API](#authentication---login-api)
3. [Create Item Set API](#create-item-set-api)
4. [Create Inventory Parts API](#create-inventory-parts-api)
5. [Update Inventory Parts API](#update-inventory-parts-api)
6. [Get Inventory Items API](#get-inventory-items-api)
7. [Errors](#errors)

---

## Release Versions

| Version | Description                            | Author           | Release Date |
|---------|----------------------------------------|------------------|--------------|
| 1.0     | Login and Create APIs for Inventory  | Renuka Agrawal   | 09/28/2023   |
| 1.1     | Updated branding                     | George Gu        | 11/06/2023   |
| 1.2     | Create and Update Inventory Parts API | Jeffrey Lin      | 01/02/2024   |
| 1.3     | Updated branding                     | George Gu        | 03/20/2024   |
| 1.4     | Updated Create ItemSet payload       | Francis Wu       | 11/11/2024   |

---

## Authentication - Login API

To access the GraphQL APIs, users must first authenticate using the Xemelgo Login REST API.

### **Endpoint Details**
- **URL:** `https://rest.api.xemelgo.com/login`
- **Method:** `POST`

### **Request Body**
```json
{
  "email": "base64_encoded_email",
  "password": "base64_encoded_password"
}
```

### **Response Body**
```json
{
  "AccessToken": "$accessToken",
  "ExpiresIn": 480,
  "TokenType": "Bearer",
  "RefreshToken": "$refreshToken",
  "IdToken": "$idToken"
}
```

Use the `$idToken` as the authorization header for all API requests.

---

## Create Item Set API

### **Endpoint Details**
- **URL:** `https://api.xemelgo.com/graphql`
- **Method:** `POST`

### **Request Body**
```graphql
mutation {
  createItemSet(
    input: [
      {
        tracker_serial: "202411110000000000000001",
        item_number: "Item-123",
        name: "Item Name",
        category: "Category",
        expiry_date: 1721310198000,
        onboarding_location: "Warehouse A"
      }
    ]
  ) {
    tracker_serials
  }
}
```

---

## Create Inventory Parts API

### **Request Body**
```graphql
mutation {
  createInventoryParts(
    input: {
      inputlist: [
        {
          id: "STTC-125-PK-1",
          number: "STTC-125",
          unit: "PC",
          quantity: 1,
          customProperties: "{\"color_ts\":\"Red\"}"
        }
      ]
    }
  ) {
    partIds
  }
}
```

---

## Update Inventory Parts API

### **Request Body**
```graphql
mutation {
  updateInventoryParts(
    input: {
      inputlist: [
        {
          id: "STTC-125-PK-1",
          number: "STTC-125-X"
        }
      ]
    }
  ) {
    partIds
  }
}
```

---

## Get Inventory Items API

### **Request Body**
```graphql
query {
  inventory(input: { filter: null, nextToken: null }) {
    inventory {
      id
      trackerSerial
      state
      location {
        id
        name
      }
    }
  }
}
```

---

## Errors

| Error                  | Code | Description                     |
|------------------------|------|---------------------------------|
| Expired token         | 401  | Unauthorized                   |
| Invalid token         | 401  | Unauthorized                   |
| Missing Auth Header   | 401  | Unauthorized                   |
| Duplicate Part IDs    | 400  | Part IDs must be unique        |
| Inventory Part Exists | 409  | Inventory part already exists  |



